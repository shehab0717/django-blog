{% extends 'shared/_layout.html' %}

{% block title %}Post - {{post.title}}{% endblock title %}
{% load crispy_forms_tags %}
{% block content %}
<div>
    <img src="/media/{{ post.image }}"/>
    <h5>{{post.title}}</h5>
    <p>{{post.content}}</p>
    <ul>
        <li>
            likes = {{likes.count}} 
            <div class="d-inline-block">
                <form method="post">
                    {% csrf_token %}
                    <button class="btn btn-link" type="submit" name='reaction' value="like">Like</button>
                </form>
            </div>
        </li>
        <li>
            dislikes = {{dislikes.count}}
            <div class="d-inline-block">
                <form method="post">
                    {% csrf_token %}
                    <button class="btn btn-link" type="submit" name='reaction' value="dislike">Dislike</button>
                </form>
            </div>
        </li>
    </ul>
    <h5>Comments</h5>
    {% for comment in comments %}
    {{comment}}
    {% empty %}
    <p>No comments</p>
    {% endfor %}

    <form method="post">
        {% csrf_token %}
        {{commentForm|crispy}}
        <input class="btn btn-primary" type="submit" value="Comment">
    </form>
</div>
{% endblock content %}